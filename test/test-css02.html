<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Test CSS | Fancytree</title>

    <!--<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css">-->
    <!--<script src="//code.jquery.com/jquery-1.12.1.min.js"></script>-->
    <!--<script src="//code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>-->
    <link rel="stylesheet" href="../src/jquery-ui.css">
    <script src="../src/jquery-1.12.1.min.js"></script>
    <script src="../src/jquery-ui.min.js"></script>
    <!--
        <link href="../../src/skin-awesome/ui.fancytree.css" rel="stylesheet" class="skinswitcher">
    -->
    <link href="../src/skin-win8/ui.fancytree.css" class="skinswitcher" rel="stylesheet">
    <script src="../src/jquery.fancytree.js"></script>
    <script src="../src/jquery.fancytree.dnd.js"></script>
    <script src="../src/jquery.fancytree.table.js"></script>
    <script src="../src/jquery.fancytree.columnview.js"></script>

    <!-- Start_Exclude: This block is not part of the sample code -->
    <!--<link href="../lib/prettify.css" rel="stylesheet">-->
    <!--<script src="../lib/prettify.js"></script>-->
    <!--<link href="../demo/sample.css" rel="stylesheet">-->
    <!--<script src="../demo/sample.js"></script>-->
    <!-- End_Exclude -->

    <style type="text/css">
    </style>

    <!-- Add code to initialize the tree when the document is loaded: -->
    <script type="text/javascript">
        var SOURCE = [
//            {title: "全部航次", key: "node1"},
            {
                title: "全部航次", folder: true, expanded: true, key: "node1",
                children: [
                    {
                        title: "物理海洋", key: "node1.1", expanded: true, selected: true,
                        children: [
                            {title: "ADCP", key: "node1.1.1", selected: false},
                            {title: "CTD", key: "node1.1.2", selected: true},
                            {title: "LADCP", key: "node1.1.3", selected: false},
                            {title: "XCTD", key: "node1.1.4", selected: false}
                        ]
                    },
                    {
                        title: "海洋地质", key: "node1.2", expanded: true, selected: true,
                        children: [
                            {title: "重力", key: "node1.2.1", selected: false},
                            {title: "磁力", key: "node1.2.2", selected: false},
                            {title: "浅剖", key: "node1.2.3", selected: false},
                            {title: "样品", key: "node1.2.4", selected: false}
                        ]
                    },
                    {
                        title: "海洋化学", key: "node1.3",expanded: true,  selected: true,
                        children: [
                            {title: "pH", key: "node1.3.1", selected: false},
                            {title: "溶解氧", key: "node1.3.2", selected: false},
                            {title: "五项营养盐", key: "node1.3.3", selected: true},
                            {title: "叶绿素a", key: "node1.3.4", selected: false}
                        ]
                    },
                    {
                        title: "海洋生物", key: "node1.4", expanded: true, selected: true,
                        children: [
                            {title: "样品", key: "node1.4.1", selected: false}

                        ]
                    }

                ]
            }

        ];

        $(function () {
            // Initialize Fancytree
            $("#tree").fancytree({
                extensions: ["dnd"],
                checkbox: true,
                selectMode: 3,
                source: SOURCE,
//                lazyLoad: function (event, ctx) {
//                    ctx.result = SOURCE2;
//                    ctx.tree.rootNode.fixSelection3FromEndNodes();
//                },
                loadChildren: function (event, ctx) {
                    ctx.tree.debug("loadChildren");
                    ctx.node.fixSelection3FromEndNodes();
                },
                dnd: {
                    preventVoidMoves: true, // Prevent dropping nodes 'before self', etc.
                    preventRecursiveMoves: true, // Prevent dropping nodes on own descendants
                    autoExpandMS: 400,
                    dragStart: function (node, data) {
                        return true;
                    },
                    dragEnter: function (node, data) {
                        return node.folder ? ["over"] : ["before", "after"];
                    },
                    dragDrop: function (node, data) {
                        node.addNode({title: $(data.draggable.element).text()}, data.hitMode);
                        return false;
                    }
                }
            });


        });
    </script>


</head>

<body class="example">
<h1>Testcase for issue #XXX</h1>

<!--<div class="description">-->
<!--</div>-->
<div>
    <!--<label for="skinswitcher">Skin:</label> <select id="skinswitcher"></select>-->
</div>
<hr>
<div id="tree">
</div>

<hr>

<!--<table id="treegrid">-->
<!--<colgroup>-->
<!--<col width="30px"></col>-->
<!--<col width="30px"></col>-->
<!--<col width="*"></col>-->
<!--<col width="50px"></col>-->
<!--<col width="30px"></col>-->
<!--</colgroup>-->
<!--<thead>-->
<!--<tr> <th></th> <th>#</th> <th></th> <th>Key</th> <th>Like</th> </tr>-->
<!--</thead>-->
<!--<tbody>-->
<!--</tbody>-->
<!--</table>-->

<hr>

<!--<table id="columnview">-->
<!--<colgroup>-->
<!--<col width="300px"></col>-->
<!--<col width="300px"></col>-->
<!--<col width="300px"></col>-->
<!--</colgroup>-->
<!--<thead>-->
<!--<tr> <th>1</th> <th>2</th> <th>3</th> </tr>-->
<!--</thead>-->
<!--<tbody>-->
<!--<tr> <td>?</td> <td>?</td> <td>?</td> </tr>-->
<!--</tbody>-->
<!--</table>-->

<!-- Start_Exclude: This block is not part of the sample code -->
<p id="sampleButtons">
</p>
<hr>
<p class="sample-links  no_code">
    <a class="hideInsideFS" href="https://github.com/mar10/fancytree/">Fancytree project home</a>
    <a class="hideOutsideFS" href="#">Link to this page</a>
    <a class="hideInsideFS" href="index.html">Example Browser</a>
    <a href="#" id="codeExample">View source code</a>
</p>
<pre id="sourceCode" class="prettyprint" style="display:none"></pre>
<!-- End_Exclude -->
</body>
</html>
